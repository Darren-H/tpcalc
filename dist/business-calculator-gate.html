<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>TerraPass Carbon Footprint Calculator</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

    <link rel="stylesheet" href="css/styles.min.css">
    <link rel='stylesheet' type='text/css' href='http://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic,500,500italic,700,700italic'>
  </head>
<body>
  <div>
    <div id="calculator-container">
  

  <div id="col-content">
    <header data-region="header"><div>
      <h1>
        <div class="header-first-line">Business</div> <span class="business-site-color">Calculator</span>
      </h1>
  </div>
</header>

<div data-region="main">

  <div>

    <div class="view-question">Tell us about yourself</div> 

    <!--////////////////////////////////////////////////////////-->
    <!--/////// FORM //////////////-->
    <!--////////////////////////////////////////////////////////-->

    <form role="form">

      <div class="form-element-container">
        <label for="name" data-error-msg="Please enter your name" data-default-label="Your name:">Your name:</label>
        <div class="form-element">
          <input type="text" name="name" class="form-control">
        </div>
      </div>

      <div class="form-element-container">
        <label for="title" data-error-msg="Please enter your title" data-default-label="Your title:">Your title:</label>
        <div class="form-element">
          <input type="text" name="title" class="form-control">
        </div>
      </div>

      <div class="form-element-container">
        <label for="company" data-error-msg="Please enter the name of your company" data-default-label="Your company name:">Your company/organization:</label>
        <div class="form-element">
          <input type="text" name="company" class="form-control">
        </div>
      </div>

      <div class="form-element-container">
        <label for="email" data-error-msg="Please enter your email" data-default-label="Your email:">Your email:</label>
        <div class="form-element">
          <input type="text" name="email" class="form-control">
        </div>
      </div>


      <div class="form-element-container">
        <label for="employees" data-error-msg="" data-default-label="">Number of Employees</label>
        <div class="form-element">
          <select id="mileage" name="employees" class="form-control">
            <option value=""></option> 
            <option value="1-19">1 - 19</option>
            <option value="20-99">20 - 99</option>
            <option value="100-999">100 - 999</option>
            <option value="1000+">1000 +</option>
          </select>
        </div>
      </div>

    </form>

    <!--////////////////////////////////////////////////////////-->
    <!--/////// FORM //////////////-->
    <!--////////////////////////////////////////////////////////-->

    </div>

</div>

    <footer data-region="footer"><div><div class="left"><button type="button" class="btn btn-prev btn-lg business-site-bg" disabled="disabled">Prev</button></div>
<div class="right"><button type="button" class="btn btn-next btn-lg business-site-bg">Next</button></div>
</div></footer>
  </div>
  <div id="col-summary" data-region="summary"><div><h1><div class="header-first-line">Your Carbon</div> <span class="dark-gray">Dashboard</span></h1>



<div data-region="you-graph-header"><div><h2 id="you-total-graph-header" class="you-graph-header graph-header" style="display: block;">Your Total <span class="summary-total">0 lbs of CO2e/yr</span></h2>
<div class="you-graph-header-container"><h2 id="you-site-graph-header" class="you-graph-header graph-header" style="display: none;">Site<span class="summary-total">0 lbs of CO2e/yr</span></h2><h2 id="you-fleet-graph-header" class="you-graph-header graph-header" style="display: none;">Fleet<span class="summary-total">0 lbs of CO2e/yr</span></h2><h2 id="you-travel-graph-header" class="you-graph-header graph-header" style="display: none;">Air Travel<span class="summary-total">0 lbs of CO2e/yr</span></h2><h2 id="you-commute-graph-header" class="you-graph-header graph-header" style="display: none;">Commute<span class="summary-total">0 lbs of CO2e/yr</span></h2><h2 id="you-shipping-graph-header" class="you-graph-header graph-header" style="display: none;">Shipping<span class="summary-total">0 lbs of CO2e/yr</span></h2><h2 id="you-server-graph-header" class="you-graph-header graph-header" style="display: none;">Server<span class="summary-total">0 lbs of CO2e/yr</span></h2></div></div></div>

<div data-region="you-graph"><div><div style="width: 320px" class="you-table">
  <table cellspacing="0" cellpadding="0" width="100%" border="0">
    <tbody><tr class="graph">
    <td id="you-graph-cat-site" width="NaN%" class="you-graph-category graph-category business-site-bg" data-reveal="you-site-graph-header"></td><td id="you-graph-cat-fleet" width="NaN%" class="you-graph-category graph-category business-fleet-bg" data-reveal="you-fleet-graph-header"></td><td id="you-graph-cat-travel" width="NaN%" class="you-graph-category graph-category business-travel-bg" data-reveal="you-travel-graph-header"></td><td id="you-graph-cat-commute" width="NaN%" class="you-graph-category graph-category business-commute-bg" data-reveal="you-commute-graph-header"></td><td id="you-graph-cat-shipping" width="NaN%" class="you-graph-category graph-category business-shipping-bg" data-reveal="you-shipping-graph-header"></td><td id="you-graph-cat-server" width="NaN%" class="you-graph-category graph-category business-server-bg" data-reveal="you-server-graph-header"></td></tr>
  </tbody></table>
</div>
</div></div>

<div data-region="emissions"><div><h2>Your Emissions <span class="summary-total"><a class="toggleEmissionsUnit" href="">See results in mT</a></span></h2>
<div class="offset"><div class="offset-category"><div class="btn btn-default btn-circle-12 business-site-bg inline-block"></div><div class="offset-category-title">Site</div>
<div class="offset-category-amount">0 lbs CO2e/yr</div>
</div><div class="offset-category"><div class="btn btn-default btn-circle-12 business-fleet-bg inline-block"></div><div class="offset-category-title">Fleet</div>
<div class="offset-category-amount">0 lbs CO2e/yr</div>
</div><div class="offset-category"><div class="btn btn-default btn-circle-12 business-travel-bg inline-block"></div><div class="offset-category-title">Air Travel</div>
<div class="offset-category-amount">0 lbs CO2e/yr</div>
</div><div class="offset-category"><div class="btn btn-default btn-circle-12 business-commute-bg inline-block"></div><div class="offset-category-title">Commute</div>
<div class="offset-category-amount">0 lbs CO2e/yr</div>
</div><div class="offset-category"><div class="btn btn-default btn-circle-12 business-shipping-bg inline-block"></div><div class="offset-category-title">Shipping</div>
<div class="offset-category-amount">0 lbs CO2e/yr</div>
</div><div class="offset-category"><div class="btn btn-default btn-circle-12 business-server-bg inline-block"></div><div class="offset-category-title">Server</div>
<div class="offset-category-amount">0 lbs CO2e/yr</div>
</div></div></div></div>

<div class="total">
  <h2 id="total-title" class="bold">Total</h2>
  <div>Your carbon footprint is <span class="bold">0 lbs of CO2e/yr</span>. That's equivalent to planting 0 urban trees.</div>
  <form name="ind_summary_view">
    <div class="form-element">
      <select name="offset-select" class="form-control">
        <optgroup class="monthly-category-offsets" label="Monthly Offsets">
          <option selected="selected" value="monthly">Offset All for $0.00/mo</option>
        <option value="monthly">Offset Site for $0.00/mo</option><option value="monthly">Offset Fleet for $0.00/mo</option><option value="monthly">Offset Air Travel for $0.00/mo</option><option value="monthly">Offset Commute for $0.00/mo</option><option value="monthly">Offset Shipping for $0.00/mo</option><option value="monthly">Offset Server for $0.00/mo</option></optgroup>
        <optgroup></optgroup>
        <optgroup label="Offset Products for Businesses">
          <option selected="selected" value="all">Offset 0 lbs for $0.00</option>
          <option value="monthly">Offset Monthly for $0.00/mo</option>
        </optgroup>
      </select>
    </div>
    <div class="form-element"><button type="button" id="buyBtn" class="btn btn-lg  business-site-bg">Buy Offsets</button></div>
  </form>
</div></div></div>
</div></div>
  <script type="text/javascript">
      document.write([
          "\<script src='",
          ("https:" == document.location.protocol) ? "https://" : "http://",
          "ajax.googleapis.com/ajax/libs/jquery/1.2.6/jquery.min.js' type='text/javascript'>\<\/script>" 
      ].join(''));
  </script>
  <script>

    (function($, window, document, undefined) {
      $(document).ready(function() {

        function validateFields () {

          function displaySuccess($elem) {
            $elem.parent()
            .parent('div')
            .addClass('has-success')
            .removeClass('has-error');
          };

          function displayError($elem) {
            $elem.parent()
            .parent('div')
            .addClass('has-error')
            .removeClass('has-success');
          };
          
          function isString($elem) {
            var val = $elem.val();
            if(typeof val === 'string' && val.length) return true;
            return false;
          }

          function isEmail($elem) {
            var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
            return regex.test($elem.val());
          }

          var $name = $('[name="name"]')
          , $title = $('[name="title"]')
          , $company = $('[name="company"]')
          , $email = $('[name="email"]')
          , $employees = $('[name="employees"]');

          if (isString($name)) {
            displaySuccess($name)
          } else {
            displayError($name)
              return false;
          }

          if (isString($title)) {
            displaySuccess($title)
          } else {
            displayError($title);
            return false;
          }

          if (isString($company)) {
            displaySuccess($company)
          } else {
            displayError($company);
            return false;
          }

          if (isEmail($email)) {
            displaySuccess($email)
          } else {
            displayError($email);
            return false;
          }

          if (isString($employees)) {
            displaySuccess($employees)
          } else {
            displayError($employees);
            return false;
          }

          return true;
        };

        $('.btn-next').click(function() {
          if(validateFields()) {

            var data = {};
            data.name = encodeURIComponent($('[name="name"]').val());
            data.title = encodeURIComponent($('[name="title"]').val());
            data.company = encodeURIComponent($('[name="company"]').val());
            data.email = encodeURIComponent($('[name="email"]').val());
            data.employees = encodeURIComponent($('[name="employees"]').val());

            $.ajax({
              url: '/gate/business/'+data.name+'/'+data.title+'/'+data.company+'/'+data.email+'/'+data.employees,
              success: function() { 
                console.log('success');
                window.location = "/#/business";
              }
            });

          }
        });

      });
    })(window.jQuery, window, document);

  </script>
  <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
  <script>
    // (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
    // function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
    // e=o.createElement(i);r=o.getElementsByTagName(i)[0];
    // e.src='//www.google-analytics.com/analytics.js';
    // r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
    // ga('create','UA-XXXXX-X');ga('send','pageview');
  </script>
  <script>document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>')</script>
</body>
</html>